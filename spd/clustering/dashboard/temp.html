<!DOCTYPE html>
<html>
<head>
<style>
  .token {
    display: inline;
    padding: 2px 4px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    border: 2px solid transparent;
  }
  
  .token:hover {
    border: 2px solid #333;
  }
  
  .tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: white;
    padding: 5px 10px;
    border-radius: 4px;
    white-space: nowrap;
    display: none;
    z-index: 1000;
    margin-bottom: 5px;
    font-size: 14px;
  }
  
  .token:hover .tooltip {
    display: block;
  }
  
  #container {
    font-family: monospace;
    font-size: 16px;
    line-height: 1.6;
    padding: 20px;
  }
</style>
</head>
<body>

<div id="container"></div>

<script>
function renderTokens(data) {
  const container = document.getElementById('container');
  container.innerHTML = '';
  
  data.tokens.forEach((token, i) => {
    const activation = data.activations[i];
    
    // Create token span
    const span = document.createElement('span');
    span.className = 'token';
    span.textContent = token;
    
    // Calculate color (red to white gradient)
    const intensity = Math.floor((1 - activation) * 255);
    span.style.backgroundColor = `rgb(255, ${intensity}, ${intensity})`;
    
    // Create tooltip
    const tooltip = document.createElement('div');
    tooltip.className = 'tooltip';
    tooltip.textContent = `"${token}": ${activation.toFixed(3)}`;
    span.appendChild(tooltip);
    
    container.appendChild(span);
  });
}

// Example usage
const exampleData = {
  tokens: ["The", " quick", " brown", " fox", " jumps", " over", " the", " lazy", " dog"],
  activations: [0.1, 0.3, 0.7, 0.9, 0.5, 0.2, 0.1, 0.4, 0.8]
};

renderTokens(exampleData);
</script>

</body>
</html>