# Default postprocessing pipeline config.
#
# Dependency graph:
#   harvest (workers → merge)
#   └── autointerp (depends on harvest merge)
#       ├── intruder eval
#       ├── interpret
#       │   ├── detection
#       │   └── fuzzing
#   attributions (workers → merge, parallel with harvest)
#
# Set any section to null to skip it entirely.
# Set autointerp.evals to null to skip evals but still run interpret.

harvest:
  n_gpus: 4
  n_batches: null
  batch_size: 256
  ci_threshold: 1.0e-6
  activation_examples_per_component: 1000
  activation_context_tokens_per_side: 10
  pmi_token_top_k: 40
  partition: h200-reserved
  time: "24:00:00"

attributions:
  n_gpus: 4
  n_batches: null
  batch_size: 256
  ci_threshold: 0.0
  partition: h200-reserved
  time: "48:00:00"

autointerp:
  model: google/gemini-3-flash-preview
  limit: null
  reasoning_effort: null
  cost_limit_usd: null
  partition: h200-reserved
  time: "12:00:00"
  evals:
    eval_model: google/gemini-3-flash-preview
    partition: h200-reserved
    time: "12:00:00"
